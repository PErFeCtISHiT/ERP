# 进销存管理系统<br>（ERP System）<br>用例文档
## 1. 引言
### 1.1 目的
 本文档描述了系统的用户需求。
### 1.2 阅读说明
 文档内用例的描述使用了附录D的模版。
## 2. 用例列表
用例1 商品分类管理<br>
用例2 商品管理<br>
用例3 库存查看<br>
用例4 库存盘点<br>
用例5 创建库存赠送单<br>
用例6 创建库存报溢单<br>
用例7 创建库存报损单<br>
用例8 创建库存报警单<br>
用例9 客户管理<br>
用例10 制定进货单<br>
用例11 制定进货退货单<br>
用例12 制定销售单<br>
用例13 账户管理<br>
用例14 制定收款单<br>
用例15 制定付款单<br>
用例16 制定收款单<br>
用例17 查看销售明细表<br>
用例18 查看经营历程表<br>
用例19 查看经营情况表<br>
用例20 期初建账<br>
用例21 制定现金费用单
用例22 审批单据<br>
用例23 制定促销策略<br>
用例24 用户账户管理<br>
## 3. 详细用例描述
### 用例1 商品分类管理
|||||
|--------|-----|-------|--------|
|ID|1|名称|商品分类管理|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|--------|--------------|
|参与者|库存管理人员，目的是管理商品的分类|
|触发条件|无|
|前置条件|用户以库存管理人员身份登录|
|后置条件|保留历史版本，更新商品分类|
|优先级|高|
|正常流程|1. 库存管理人员要求进行商品管理<br>2. 系统进入商品列表<br>3. 库存管理人员选中分类，进行增删改操作<br>　　　3.a 库存管理人员删除分类，系统保留历史版本，更新列表<br>　　　3.b 库存管理人员增加分类或子分类，系统判断合法性，并做出响应（合法则更新信息，不合法参见扩展流程）<br>　　　3.c 库存管理人员修改分类，系统判断合法性，并做出响应（合法则更新信息，不合法参见扩展流程）<br>4.库存管理人员结束对商品分类的操作，系统返回商品列表界面|
|扩展流程|1. 删除失败<br>　　　1.a 管理人员删除有商品的分类<br>         　　　1.b 系统提示“分类中有商品，删除失败”，返回商品界面<br>2.增加失败<br>　　　2.a  管理人员在非叶节点的分类添加分类<br>　　　2.b  系统提示“分类中有商品，无法添加子分类”，返回商品界面<br> 3. 历史记录管理<br>　　　3.a 库存管理人员要求查看之前的历史记录<br>　　　3.b 系统给出之前所有的历史版本分类列表（以时间编号）<br>　　　3.c 库存管理人员要求还原之前的版本<br>　　　3.d 经过权限认证后，系统还原历史版本的相关信息|
|特殊需求|可以将其发送给总经理审核查看|
### 用例2 商品管理
|||||
|--------|-----|-------|--------|
|ID|2|名称|商品管理|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|库存管理人员，目的是管理各项商品的基本信息|
|触发条件|无|
|前置条件|库存管理人员进入商品列表界面，并且身份已被验证|
|后置条件|保留历史数据，商品的信息更新，商品列表更新|
|优先级|高|
|正常流程|1. 库存管理人员在搜索栏中进行模糊查找<br>2. 系统显示可能的商品列表<br>3. 库存管理人员点击商品列表中的某一商品<br>4. 系统显示该商品的基本信息（包括编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价）<br> 5. 库存管理人员修改该商品的属性<br>6. 系统更新商品列表和商品信息<br>7. 库存管理人员删除商品<br>8. 系统保留历史记录，在列表中删除该商品 <br>9. 库存管理人员增加新的商品<br>10. 系统给出空白的商品信息表并等待填写<br>11. 库存管理人员填写后提交<br>12. 系统更新商品列表和商品信息<br>13. 库存管理人员退出商品管理界面<br>14. 系统返回上一级界面|
|扩展流程|1. 搜索时系统需要对其进行判断<br>　　1.a 若输入内容不合法（SQL注入）,系统提示“存在敏感字符”，并显示“查找失败”<br>2.修改时系统对修改信息进行判断<br>　　2.a 若修改后有已经存在的商品的标示（名称和编号），系统提示已存在该商品，增加失败<br>　　2.b 输入非法数据，系统提示输入错误并拒绝输入|
|特殊需求|无|
### 用例3 库存查看
|||||
|--------|-----|-------|--------|
|ID|3|名称|商品管理|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|库存管理人员，目的是查看库存，了解实时情况|
|触发条件|库存管理人员点击库存查看按钮|
|前置条件|库存管理人员进入商品列表界面，并且身份已被验证|
|后置条件|无|
|优先级|高|
|正常流程|1. 库存管理人员要求查看库存<br>2. 系统显示时间段界面以供筛选<br>3. 库存管理人员选择时间段<br>4. 系统显示这段时间内的出/入库数量/金额，销售/进货的数量/金额，并显示库存数量的合计<br> 5. 库存管理人员退出库存查看界面<br>6. 系统返回商品列表界面<br>|
|扩展流程|1. 选择时间段时系统需要检查输入<br>　　1.a 若开始时间大于结束时间，系统提示时间错误，并要求重新输入<br>　　1.b 若漏选了某一时间，系统提示时间段未完整，并要求重新选择|
|特殊需求|无|
### 用例4 库存盘点
|||||
|--------|-----|-------|--------|
|ID|4|名称|商品管理|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|库存管理人员，目的是盘点库存，了解当天整体情况|
|触发条件|库存管理人员点击库存盘点按钮|
|前置条件|库存管理人员进入商品列表界面，并且身份已被验证|
|后置条件|无|
|优先级|高|
|正常流程|1. 库存管理人员要求盘点库存<br>2. 系统显示这段时间内的库存快照，包括当天的各种商品的名称，型号，库存数量，库存均价，批次，批号，出厂日期<br> 3. 库存管理人员退出库存盘点界面<br>4. 系统返回商品列表界面<br>|
|扩展流程|1. 用户要求将库存快照导出成Excel<br>2. 系统在相应路径上创建库存快照的Excel文件|
|特殊需求|无|
### 用例5 创建库存赠送单
|||||
|--------|-----|-------|--------|
|ID|5|名称|创建库存赠送单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|库存管理人员，目的是能够选择一些商品进行赠送|
|触发条件|库存管理人员点击“创建库存赠送单”按钮|
|前置条件|库存管理人员进入商品列表界面，并且身份已被验证|
|后置条件|库存赠送单被提交送审，并从库存中减去赠送的商品|
|优先级|高|
|正常流程|1. 库存管理人员要求创建库存赠送单<br>2. 系统显示此时的商品列表以供选择<br> 3. 库存管理人员将商品选择好放入库存赠送单中<br>4. 库存管理人员将其提交<br>5. 系统将其送总经理处审核，并从库存中减去相应的商品数量<br>6. 库存管理人员将其存为草稿<br> 7. 系统将其存入草稿本<br>8. 库存管理人员退出界面 9. 系统判断此时赠送单上是否有内容，若有，则显示提醒信息“是否保存修改”，若无，则直接退出到商品界面|
|扩展流程|若选择的商品数量大于库存数量，系统显示提醒信息并要求重新输入|
|特殊需求|无|
### 用例6 创建库存报溢单
|||||
|--------|-----|-------|--------|
|ID|6|名称|创建库存报溢单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|库存管理人员，目的是当实际商品数量比系统多时要进行库存报溢|
|触发条件|库存管理人员点击“创建库存报溢单”按钮|
|前置条件|库存管理人员进入商品列表界面，并且身份已被验证|
|后置条件|库存报溢单建立，系统库存增加|
|优先级|高|
|正常流程|1. 库存管理人员要求创建库存报溢单<br>2. 系统显示此时的商品列表以供选择<br> 3. 库存管理人员选择好商品并输入实际商品的数量<br>4. 库存管理人员将其提交<br>5. 系统将其送审，并更新其库存中的商品数量<br>8. 库存管理人员退出界面<br> 9. 系统判断此时报溢单上是否有内容，若有，则显示提醒信息“是否保存修改”，若无，则直接退出到商品界面|
|扩展流程|1. 未选中商品就进行报溢,系统提示需要选中商品<br>2. 输入除数字外的不合法字符，系统提示错误并要求重新输入|
|特殊需求|无|
### 用例7 创建库存报损单
|||||
|--------|-----|-------|--------|
|ID|7|名称|创建库存报溢单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|库存管理人员，目的是当实际商品数量比系统少时要进行库存报损|
|触发条件|库存管理人员点击“创建库存报损单”按钮|
|前置条件|库存管理人员进入商品列表界面，并且身份已被验证|
|后置条件|库存报损单建立，系统库存减少|
|优先级|高|
|正常流程|1. 库存管理人员要求创建库存报损单<br>2. 系统显示此时的商品列表以供选择<br> 3. 库存管理人员选择好商品并输入实际商品的数量<br>4. 库存管理人员将其提交<br>5. 系统将其送审，并更新其库存中的商品数量<br>8. 库存管理人员退出界面<br> 9. 系统判断此时报损单上是否有内容，若有，则显示提醒信息“是否保存修改”，若无，则直接退出到商品界面|
|扩展流程|1. 未选中商品就进行报损,系统提示需要选中商品<br>2. 输入除数字外的不合法字符，系统提示错误并要求重新输入|
|特殊需求|无|
### 用例8 创建库存报警单
|||||
|--------|-----|-------|--------|
|ID|8|名称|创建库存报警单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|库存管理人员，目的是当实际商品数量比系统少时要进行库存报损|
|触发条件|库存管理人员点击“创建库存报警单”按钮|
|前置条件|库存管理人员进入商品列表界面，并且身份已被验证|
|后置条件|库存报警单建立，随时能够发送警报信息|
|优先级|高|
|正常流程|1. 库存管理人员要求创建库存报警单<br>2. 系统给出警戒设置框<br> 3. 库存管理人员设置库存警戒数量<br>4. 库存管理人员将其提交<br>5. 系统将其送审，并更新系统<br>8. 库存管理人员退出界面<br> 9. 系统判断此时报警单上是否有内容，若有，则显示提醒信息“是否保存修改”，若无，则直接退出到商品界面|
|扩展流程| 输入除数字外的不合法字符，系统提示错误并要求重新输入|
|特殊需求|无|
### 用例9 客户管理
|||||
|--------|-----|-------|--------|
|ID|9|名称|客户管理|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|进货销售人员，目的是对公司的客户的信息进行管理|
|触发条件|进货销售人员登录，并拥有权限|
|前置条件|进货销售人员进行客户管理|
|后置条件|更新客户列表，更新客户信息|
|优先级|高|
|正常流程|1. 进货销售人员在搜索栏中进行模糊查找<br>2. 系统显示可能的客户<br>3. 进货销售人员点击客户列表中的客户<br>4. 系统显示该客户的基本信息（包括编号、分类（进货商、销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员）<br> 5. 进货销售人员修改该客户的信息<br>6. 系统更新客户信息和客户列表<br>7. 进货销售人员删除客户<br>8. 系统保留历史记录，在列表中删除该客户 <br>9. 进货销售人员增加新的客户<br>10. 系统给出空白的客户基本信息表并等待填写<br>11. 进货销售人员填写后提交<br>12. 系统更新客户列表，并将其存入服务器中<br>13. 进货销售人员退出客户管理界面<br>14. 系统返回上一级界面|
|扩展流程|1. 搜索时系统需要对其进行判断<br>　　1.a 若输入内容不合法（SQL注入）,系统提示“存在敏感字符”，并显示“查找失败”<br>2.修改时系统对修改信息进行判断<br>　　2.a 若修改后有已经存在的客户的编号，系统提示已存在该商品，增加失败<br>　　2.b 输入非法数据，系统提示输入错误并拒绝输入  <br>3. 若进行操作时退出,系统要能保存已填的信息|
|特殊需求|无|
### 用例10 制定进货单
|||||
|--------|-----|-------|--------|
|ID|10|名称|制定进货单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|进货销售人员|
|触发条件|进货销售人员点击“制定进货单按钮”|
|前置条件|进货销售人员进入客户列表，且已被授权|
|后置条件|进货单被建立|
|优先级|高|
|正常流程|1. 进货销售人员要求制定进货单<br>2. 经过权限认证后，系统给出空白进货单等待填写<br> 3. 进货销售人员填写后提交<br>4. 系统将其送总经理处审批<br>5. 进货销售人员将其存为草稿<br>6. 系统将其存入草稿本<br> 7.进货销售人员退出制定界面<br>8. 系统判断是否有内容被填写，若有，则询问是否保存更改，若无，则返回客户列表 |
|扩展流程|1. 填写时有不合法内容，系统提示“此处内容不合法”，并要求重新填写<br>2. 提交时漏填内容，系统提示“仍有未填内容”|
|特殊需求||
### 用例11 制定进货退货单
|||||
|--------|-----|-------|--------|
|ID|11|名称|制定进货退货单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|进货销售人员|
|触发条件|进货销售人员点击“制定进货退货单按钮”|
|前置条件|进货销售人员进入客户列表，且已被授权|
|后置条件|进货退货单单被建立|
|优先级|高|
|正常流程|1. 进货销售人员要求制定进货退货单<br>2. 经过权限认证后，系统给出空白进货退货单等待填写<br> 3. 进货销售人员填写后提交<br>4. 系统将其送总经理处审批<br>5. 进货销售人员将其存为草稿<br>6. 系统将其存入草稿本<br> 7.进货销售人员退出制定界面<br>8. 系统判断是否有内容被填写，若有，则询问是否保存更改，若无，则返回客户列表 |
|扩展流程|1. 填写时有不合法内容，系统提示“此处内容不合法”，并要求重新填写<br>2. 提交时漏填内容，系统提示“仍有未填内容”|
|特殊需求||
### 用例12 制定销售单
|||||
|--------|-----|-------|--------|
|ID|12|名称|制定销售单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|进货销售人员|
|触发条件|进货销售人员点击制定销售单按钮|
|前置条件|进货销售人员进入客户列表，且已被授权|
|后置条件|销售单被建立|
|优先级|高|
|正常流程|1. 进货销售人员要求制定销售单<br>2. 经过权限认证后，系统给出空白销售单等待填写<br> 3. 进货销售人员进行折让操作<br>4. 系统给出已有代金券等待选择<br>5. 进货销售人员选择代金券<br>6. 系统给出折让后总额<br>7. 进货销售人员填写后提交<br>8. 系统将其送总经理处审批<br>9. 进货销售人员将其存为草稿<br>10. 系统将其存入草稿本<br> 11.进货销售人员退出制定界面<br>12. 系统判断是否有内容被填写，若有，则询问是否保存更改，若无，则返回客户列表  |
|扩展流程|1. 填写时有不合法内容，系统提示“此处内容不合法”，并要求重新填写<br>2. 提交时漏填内容，系统提示“仍有未填内容”<br>3. 折让时选择满足消费额度的客户，系统可分配大额度代金券|
|特殊需求|无|
### 用例12 制定销售退货单
|||||
|--------|-----|-------|--------|
|ID|12|名称|制定销售退货单|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.1|

|||
|---------|----------------------|
|参与者|进货销售人员|
|触发条件|进货销售人员点击制定销售退货单按钮|
|前置条件|进货销售人员进入客户列表，且已被授权|
|后置条件|销售退货单被建立|
|优先级|高|
|正常流程|1. 进货销售人员要求制定销售退货单<br>2. 经过权限认证后，系统给出空白销售退货单等待填写<br> 3. 进货销售人员填写后提交<br>4. 系统将其送总经理处审批<br>5. 进货销售人员将其存为草稿<br>6. 系统将其存入草稿本<br> 7. 进货销售人员退出制定界面<br>8. 系统判断是否有内容被填写，若有，则询问是否保存更改，若无，则返回客户列表  |
|扩展流程|1. 填写时有不合法内容，系统提示“此处内容不合法”，并要求重新填写<br>2. 提交时漏填内容，系统提示“仍有未填内容”<br>|
|特殊需求|无|

### 用例13 账户管理
|      |            |        |      |
| ---- | ---------- | ------ | ---- |
| ID   | 13        | 名  称   | 账号管理 |
| 创建者  | 刘倚彤         | 最后更新者  | 李宁     |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年9月30日  |

|||
|-----------------|----------------|
|参与者|	财务人员 目的：查看账户信息，快捷地管理账户，实现增删改查|
|触发条件	|财务人员想要查看账户信息，增删改查账户时|
|前置条件|	财务人员已被识别，并且给予相应的权限|
|后置条件	|系统记录财务人员操作，更新保存操作过后的信息|
|优先级|	高|
|正常流程|	1.	系统显示当前账户列表<br>2.	财务人员输入账户信息进行账户搜索（模糊搜索），系统显示搜索结果账户列表<br>3. 财务人员选择添加新账户，填写账户详细信息，系统更新账户信息，显示账户列表<br>4.	财务人员选择账户，进行修改、删除操作，系统更新账户信息，显示账户列表<br>5. 财务人员选择账户查看账户详细信息，系统显示该账户详细信息
|扩展流程|	1. 　a. 输入格式不对（添加账户时输入金钱不为数字）<br> 　　b. 提示输入格式错误，返回继续输入<br>2. 　a. 查找删除修改的账户不存在<br> 　　b. 系统提示账户不存在<br>3. 　a. 添加重复的账户<br> 　　b.系统提示账户已经存在，并不重复添加
|特殊需求|	1.	为方便操作，财务人员可以直接点击某一账户进行删除和修改<br>2.	仅限最高权限可进行这些操作|
 
### 用例14 制定收款单
|      |            |        |       |
| ---- | ---------- | ------ | ----- |
| ID   | 14       | 名  称   | 制定收款单 |
| 创建者  | 刘倚彤         | 最后更新者  | 李宁     |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年9月30日  |

|||
|------------------|------------------|
|参与者|	财务人员，目的是方便快捷建立收款单，管理收款单|
|触发条件	|财务人员制定收款单时|
|前置条件|	财务人员已正常登录、有销售操作|
|后置条件|	记录资金信息、生成单据；通过审批后，更改客户的应付数据|
|优先级|	高|
|正常流程 |1.	系统生成收款单（包含：单据编号、客户、操作员、转账金额、银行账户、总额汇总）<br>2.	财务人员填写完整收款单（填写客户、转账金额、总额汇总）<br>3.	提交收款单，送往审批|
|扩展流程|	2a.表格填写不完整，内容缺失<br>1.系统提示内容不完整，返回流程<br>2，要求重新填写<br>3a.收款单审批通过<br>1.系统发送审批通过消息给财务人员，更改客户账户应收金额<br>3.b收款单审批不通过<br>1.系统发送审批失败消息给财务人员，不更改客户账户应收金额
|特殊需求|	1.	单据编号自动生成<br>2.单据编号格式XJFYD-yyyy-MMdd-xxxxx|
 
### 用例15 制定付款单
|      |            |        |        |
| ---- | ---------- | ------ | ------ |
| ID   | 15        | 名  称   | 制定付款单 |
| 创建者  | 刘倚彤         | 最后更新者  | 李宁     |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年9月30日  |

|||
|----------------|---------------------|
|参与者|	财务人员，目的是方便快捷建立付款单，管理付款单|
|触发条件|	财务人员制定付款单时|
|前置条件|	财务人员已正常登录、有进货操作|
|后置条件|	记录资金信息、生成单据；通过审批后，更改客户的应收数据|
|优先级|	高|
|正常流程	|1.	系统生成付款单（包含：单据编号、客户、操作员、转账金额、银行账户、总额汇总）<br>   2.	财务人员填写完整付款单（填写客户、转账金额、总额汇总）
||3.	提交付款单，送往审批
|扩展流程|	2a.表格填写不完整，内容缺失
 ||1.系统提示内容不完整，返回流程2，要求重新填写
 ||3a.付款单审批通过
 ||1.系统发送审批通过消息给财务人员，更改客户账户应付金额
 ||3.b付款单审批不通过
 ||1.系统发送审批失败消息给财务人员，不更改客户账户应付金额
|特殊需求|	1.	单据编号自动生成
||2.单据编号格式XJFYD-yyyy-MMdd-xxxxx
### 用例16 制定收款单
|      |            |        |        |
| ---- | ---------- | ------ | ------ |
| ID   | 15        | 名  称   | 制定付款单 |
| 创建者  | 刘倚彤         | 最后更新者  | 练达     |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年10月2日  |

|||
|-|-|
|参与者|	财务人员，目的是方便快捷建立收款单，管理收款单
|触发条件|	财务人员制定付款单时
|前置条件|	财务人员已正常登录、有进货操作
|后置条件|	记录资金信息、生成单据；通过审批后，更改客户的应付数据
|优先级|	高
|正常流程	|1.	系统生成付款单（包含：单据编号、客户、操作员、转账金额、银行账户、总额汇总）
||2.	财务人员填写完整付款单（填写客户、转账金额、总额汇总）
||3.	提交付款单，送往审批
|扩展流程|	2a.表格填写不完整，内容缺失
 ||1.系统提示内容不完整，返回流程2，要求重新填写
 ||3a.付款单审批通过
 ||1.系统发送审批通过消息给财务人员，更改客户账户应付金额
 ||3.b付款单审批不通过
 ||1.系统发送审批失败消息给财务人员，不更改客户账户应付金额
|特殊需求|	1.	单据编号自动生成
||2.单据编号格式XJFYD-yyyy-MMdd-xxxxx


 
### 用例17 查看销售明细表
|      |            |        |         |
| ---- | ---------- | ------ | ------- |
| ID   | 17        | 名  称   | 查看销售明细表 |
| 创建者  | 刘倚彤         | 最后更新者  | 李宁     |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年9月30日  |

|||
|-|-|
|参与者|	财务人员、总经理
|触发条件	|财务人员或总经理查看销售明细表时
|前置条件|	财务人员或总经理已正常登录
|后置条件	|无
|优先级|	高
|正常流程	|1.	财务人员或总经理选择筛选条件（时间区间，商品名，客户，业务员，仓库）
||2.	系统显示信息列表，其中列表中包含时间、商品名、型号、输量、单价以及总额。
||3.	结束查看
|扩展流程|	1a.财务人员输入时间格式不正确
||1.	系统提示输入时间格式不对，拒绝输入
||1b.财务人员输入的开始时间不正确
||1.	系统提示输入开始时间不对，拒绝输入
||1c.财务人员输入结束时间格式不正确
||1.	系统提示输入结束时间不对，拒绝输入
||1d.财务人员未输入筛选信息
||1.	系统提示未输入筛选信息，拒绝输入
||2a.财务人员选择导出销售明细表
||1.	系统导出销售明细表excel
|特殊需求|	无
 
### 用例18 查看经营历程表
|      |            |        |         |
| ---- | ---------- | ------ | ------- |
| ID   | 18        | 名  称   | 查看经营历程表 |
| 创建者  | 刘倚彤         | 最后更新者  |李宁         |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年9月30日         |

|||
|-|-|
|参与者	|财务人员和总经理，目的是查看和管理一段时间内的收支情况
|触发条件|	财务人员查看经营历程表时
|前置条件|	财务人员或者总经理已经被验证，并给予相应权限
|后置条件|	无
|优先级	|高
|正常流程|	1.	财务人员或者总经理输入筛选条件（时间区间，单据类型，客户，业务员，仓库）
||2.	系统显示符合的单据（单据分为：1. 销售类单据  2. 进货类单据 3. 财务类单据 4. 库存类单据）
||3.	财务人员选择单据查看
||4.	系统显示单据详细信息
||5.	结束查询
|扩展流程|	2a. 财务人员想要进行红冲
||1.	系统生成红冲单，并显示结果
||2b.	财务人员想要进行红冲并且复制
||1.	系统生成红冲单（数目取负），显示结果
||2.	财务人员编辑操作后，完成红冲
||2c. 	财务人员选择导出经营历程表
||1.	系统导出经营历程表excel
|特殊需求|	无
 
### 用例19 查看经营情况表
|      |            |        |         |
| ---- | ---------- | ------ | ------- |
| ID   | 020        | 名  称   | 查看经营情况表 |
| 创建者  | 刘倚彤         | 最后更新者  |李宁         |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年9月30日       |

|||
|-|-|
|参与者	|财务人员、总经理。目的是快速方便的了解经营情况
|触发条件|	财务人员或总经理查看经营情况表时
|前置条件|	财务人员或总经理已经被识别，并给予相应权限
|后置条件|	在后台记录重要信息
|优先级	|高
|正常流程|	1.	总经理或者财务人员选择搜索条件（时间区间）
||2.	系统返回查询经营情况列表。其中列表中包含时间、商品名、型号、输量、单价以及总额。显示信息包括：收入、支出和利润。其中收入显示为折让后收入，并显示折让数目。收入包含销售收入、商品报溢收入、成本调整收入、进退货差价收入、代金券和实际收额差额收入。支出包括：商品报损和商品赠出。利润显示折让后的利润情况，包含总收入和总支出
||3.	结束查询
扩展流程	1a. 输入时间格式或者区间有误
||1.	系统返回时间输入错误，要求重新输入
||2a.	财务人员选择导出经营情况表
||1.	系统导出经营情况表excel
|特殊需求|	无
 
### 用例20 期初建账
|      |            |        |      |
| ---- | ---------- | ------ | ---- |
| ID   | 20        | 名  称   | 期初建账 |
| 创建者  | 刘倚彤         | 最后更新者  |李宁         |
| 创建日期 | 2017年9月9日 | 最后更新日期 |2017年9月30日         |

|||
|-|-|
|参与者|	财务人员，目的是可以支持建多套账
|触发条件|	财务人员欲在期初建账时
|前置条件|	财务人员已正常登录、处于期初未建账状态
|后置条件|	建立账单、在后台记录重要信息
|优先级|	高
|正常流程|	1.	财务人员选择期初建账
||2.系统新建账。包括：添加商品信息（商品分类，某一商品的名称，类别，型号，进价/售价(默认为上年平均)，最近进价和最近售价留空），客户信息（客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)），银行账户信息（名称，余额）。
||3.	确认建账，系统保存旧账，将新建帐作为系统初始数据
||4.	结束建账，推出建账
|扩展流程| 查询期初信息，系统显示相关信息
|特殊需求|	无
### 用例21 制定现金费用单
|||||
|----------------|-------|--------------|------------|
|ID|	21|	名  称|制定现金费用单|
|创建者	|练达|	最后更新者||
|创建日期	|2017年9月21日|	最后更新日期|||

|||
|---------------|--------------|
|参与者|   财务人员，目的是为了管理报销等现金操作|
|触发条件  |  财务人员需要对某笔消费进行现金费用的记录|
|前置条件  |  财务人员被授权|
|后置条件  |  生成现金费用单|
|优先级|   高|
|正常流程  |1. 制定现金费用单<br>2. 整理出条目清单<br>3. 选择提交或是存入草稿本|
|扩展流程|无 |
|特殊需求|无 |
### 用例22 （总经理）审批单据
|||||
|--------|-----|-------|--------|
|ID|22|名称|审批单据|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.2|

|||
|---------|----------------------|
|参与者|总经理，目的是查看所有申请单据，修改单据数据，并通过该单据的审批|
|触发条件|总经理点击审批单据按钮|
|前置条件|总经理已被授权|
|后置条件|单据下放到各个人员手中|
|优先级|高|
|正常流程|1. 总经理要求查看单据列表<br>2. 系统给出未审批的单据列表<br> 3. 经理点击某一单据<br>4. 系统给出该单据的具体信息<br>5. 经理进行审批，审批通过<br>6. 系统将其下发给相关人员，并更新相关数据<br> 7. 经理进行审批，审批通过，给出修改意见<br>8. 系统将其下发给相关人员 |
|扩展流程|经理可进行批量审批|
|特殊需求|无|
### 用例23 （总经理）制定促销策略
|||||
|--------|-----|-------|--------|
|ID|23|名称|制定促销策略|
|创建者|刘倚彤|最后一次更新者|练达|
|创建日期|2017.9.9|最后更新日期|2017.10.2|

|||
|---------|----------------------|
|参与者|总经理，目的是针对不同级别的用户制定促销策略|
|触发条件|在界面中点击“制定促销”按钮|
|前置条件|总经理已被授权|
|后置条件|系统会自动建立库存赠送单|
|优先级|高|
|正常流程|1. 总经理要求制定促销策略<br>2. 系统给出策略单（赠品、价格折让、 赠送代金劵）和特价包（组合商品降价） <br> 3. 总经理提交促销策略 <br>4. 系统会自动建立库存赠送单等待审核 <br>5. 总经理作出审批<br>6. 通过则发送消息给库存管理员发放赠品，不通过则返回制定促销策略界面<br> 7. 总经理将其存为草稿<br>8. 系统将其存入草稿本|
|扩展流程|总经理可撤回任一促销策略单|
|特殊需求||
### 用例24 （系统管理员）用户账户管理
|||||
|--------|-----|-------|--------|
|ID|24|名称|用户账户管理|
|创建者|李宁|最后一次更新者|练达|
|创建日期|2017.9.11|最后更新日期|2017.10.2|

|||
|---------|----------------------|
|参与者|管理员,目的是管理用户的信息与权限，使软件得以安全有效地运行|
|触发条件|无|
|前置条件|管理员正常登录后|
|后置条件|各用户信息更改|
|优先级|高|
|正常流程|1. 管理员选择账户<br>2. 系统给出相关信息<br> 3.管理员更改基本信息（名称，编号，权限） <br>4. 系统更改相关信息，并将其发送给该人员<br>5. 管理员增加账户<br>6. 系统新增账户，账号密码默认为admin<br>7. 管理员删除账户<br>8. 系统删除账户<br>|
|扩展流程|删除用户账户以及修改其权限需要上级给予权限|
|特殊需求|无|
